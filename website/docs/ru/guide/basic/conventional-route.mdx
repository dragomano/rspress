# Файловая маршрутизация

## Что это такое?

Rspress использует маршрутизацию на основе файловой системы: путь к файлу страницы напрямую преобразуется в путь маршрута. Благодаря этому маршрутизация всего проекта становится интуитивно понятной.

Например, если в каталоге `docs` есть файл `foo.md`, то маршрут к этой странице будет `/foo`.

## Правила сопоставления

Rspress автоматически сканирует корневую директорию и все вложенные подкаталоги, преобразуя пути к файлам в пути маршрутов. Например, при следующей структуре файлов:

```txt
docs
├── foo
│   └── bar.md
└── foo.md
```

Тогда файл `bar.md` будет доступен по маршруту `/foo/bar`, а `foo.md` — по `/foo`.

Конкретные правила сопоставления выглядят так:

| Путь к файлу    | Путь маршрута |
| --------------- | ------------- |
| `index.md`      | `/`           |
| `/foo.md`       | `/foo`        |
| `/foo/bar.md`   | `/foo/bar`    |
| `/zoo/index.md` | `/zoo/`       |

## Маршрутизация через компоненты

В рамках маршрутизации по соглашению (помимо файлов `.md` и `.mdx`) вы также можете использовать файлы `.tsx` в качестве компонентов маршрутов. По умолчанию из такого файла экспортируется React-компонент, и этот компонент автоматически регистрируется как страница маршрута. Например:

```tsx title="foo.tsx"
export default () => {
  return <div>foo</div>;
};
```

Конечно, если вам нужно настроить собственный макет (layout), вы можете добавить отдельный экспорт, чтобы объявить тип разметки страницы. Например:

```tsx title="foo.tsx"
export const frontmatter = {
  // Объявляем тип макета
  // Указанный здесь кастомный layout не будет содержать боковую панель
  pageType: 'custom',
};
```

Подробное описание всех возможных значений `pageType` смотрите в [документации API](/api/config/config-frontmatter#pagetype).

## Пользовательская маршрутизация

Если требуется изменить стандартное поведение маршрутизации, можно воспользоваться полем `route` в конфигурационном файле. Например:

```ts title="rspress.config.ts"
import { defineConfig } from '@rspress/core';

export default defineConfig({
  route: {
    // Эти файлы будут исключены из маршрутизации (поддерживаются glob-шаблоны)
    exclude: ['component/**/*']
    // Эти файлы будут дополнительно включены в маршрутизацию (поддерживаются glob-шаблоны)
    include: ['other-dir/**/*'],
  }
});
```

## Рекомендации по организации проекта

Мы рекомендуем размещать файлы документации в директории `docs` — это делает структуру проекта более понятной и предсказуемой.

Всё, что не относится к документации (кастомные компоненты, утилиты, вспомогательные функции и т. д.), лучше хранить за пределами папки `docs`. Например:

```txt
docs
└── foo.mdx
src
├── components
│   └── CustomComponent.tsx
└── utils
    └── utils.ts
```
