# Генерация статического сайта

## Введение

При сборке для продакшена Rspress автоматически создаёт статический сайт, то есть генерирует HTML-контент каждой страницы. После завершения сборки HTML-файлы будут находиться в стандартной директории вывода, например:

```txt
doc_build
├── static # Статические ресурсы
│   ├── main.js
│   └── ...
├── index.html # Главная страница
├── about.html # Страница «О проекте»
├── posts
│   ├── hello-world.html # Страница статьи
│   └── ...
```

Содержимое этой директории вывода можно развёртывать на любой платформе для хостинга статических сайтов, такой как GitHub Pages, Netlify, Vercel и др.

## Преимущества SSG

Суть генерации статического сайта заключается в том, чтобы предварительно рендерить компоненты на этапе сборки, преобразовывать их в HTML-строки и записывать в HTML-файлы. Это даёт ряд преимуществ:

- Более быстрый FCP (First Contentful Paint — момент, когда пользователь видит что-то на странице во время загрузки), так как нет необходимости ждать загрузки JS перед рендером.
- Лучшее SEO, так как поисковые роботы могут сразу индексировать готовый HTML-контент.

С учётом затрат на генерацию статического сайта, Rspress выполняет предварительный рендеринг только при сборке для продакшена. В режиме разработки используется обычный SPA-ререндер без предварительного рендеринга.

## Добавление пользовательского контента сайта

С помощью `builderConfig.html.tags` можно настраивать HTML-контент сайта, например добавлять коды аналитики, скрипты, стили и т. д.

```js title="rspress.config.ts"
import { defineConfig } from '@rspress/core';

export default defineConfig({
  // ...
  builderConfig: {
    html: {
      tags: [
        {
          tag: 'script',
          attrs: {
            src: 'https://cdn.example.com/your-script.js',
          },
        },
        {
          tag: 'link',
          attrs: {
            rel: 'stylesheet',
            href: 'https://cdn.example.com/your-style.css',
          },
        },
      ],
    },
  },
});
```

Для более подробной настройки `builderConfig.html.tags` обратитесь к [документации](https://rsbuild.rs/config/html/tags).

## Просмотр

После завершения сборки для продакшена вы можете просмотреть результат с помощью команды `rspress preview`. Эта команда запустит локальный сервис статического сайта, и вы сможете открыть его в браузере для предварительного просмотра.

```shell
> rspress preview

Preview server running at http://localhost:4173/
```

## Отключение SSG

Если вы не хотите использовать генерацию статического сайта, её можно отключить через настройку `ssg`.

```js title="rspress.config.ts"
import { defineConfig } from '@rspress/core';

export default defineConfig({
  // ...
  ssg: false,
});
```

:::warning ПРЕДУПРЕЖДЕНИЕ

Будьте осторожны при отключении SSG, так как это приведёт к потере многих преимуществ генерации статического сайта, описанных выше.

:::
